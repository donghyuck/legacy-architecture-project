<?xml version="1.0" encoding="UTF-8"?>
<sql-queryset name="FRAMEWORK_V2" description="Query for common componets.">

	<sql-query
		name="SELECT_ALL_LOCALIZED_PROPERTY"
		comment="전체 다국어 지원 프로퍼티 값"><![CDATA[
		select PROPERTY_NAME, PROPERTY_VALUE, LOCALE_CODE from V2_LOCALIZED_PROPERTY
      ]]></sql-query>
	<sql-query
		name="INSERT_LOCALIZED_PROPERTY"
		comment="다국어 프로퍼티  저장"><![CDATA[
		INSERT INTO V2_LOCALIZED_PROPERTY (PROPERTY_NAME, PROPERTY_VALUE, LOCALE_CODE) VALUES (? ,?, ?) 
      ]]></sql-query>
	<sql-query
		name="DELETE_LOCALIZED_PROPERTY"
		comment="다국어 프로퍼티 삭제"><![CDATA[
		DELETE FROM V2_LOCALIZED_PROPERTY WHERE PROPERTY_NAME LIKE ? AND LOCALE_CODE LIKE ?
      ]]></sql-query>
	<sql-query
		name="UPDATE_LOCALIZED_PROPERTY"
		comment="다국어 프로퍼티 업데이트"><![CDATA[
		UPDATE V2_LOCALIZED_PROPERTY SET PROPERTY_VALUE=? WHERE PROPERTY_NAME=? AND LOCALE_CODE=? 
      ]]></sql-query>
                        
	<sql-query
		name="SELECT_ALL_PROPERTY"
		comment="전체  프로퍼티 값"><![CDATA[
		select PROPERTY_NAME, PROPERTY_VALUE from V2_PROPERTY
      ]]></sql-query>
 	<sql-query
		name="INSERT_PROPERTY"
		comment="프로퍼티 저장"><![CDATA[
		INSERT INTO V2_PROPERTY (PROPERTY_NAME, PROPERTY_VALUE) VALUES (? ,?) 
      ]]></sql-query>
	<sql-query
		name="DELETE_PROPERTY"
		comment="프로퍼티 삭제"><![CDATA[
		DELETE FROM V2_PROPERTY WHERE PROPERTY_NAME LIKE ?
      ]]></sql-query>
	<sql-query
		name="UPDATE_PROPERTY"
		comment="프로퍼티 업데이트"><![CDATA[
		UPDATE V2_PROPERTY SET PROPERTY_VALUE=? WHERE PROPERTY_NAME=?
      ]]></sql-query>                 	
                  	     
                  	     
	<sql-query
		name="INSERT_PLUGIN"
		comment="플러그인 데이터 추가"><![CDATA[
		INSERT INTO V2_PLUGIN_DATA (PLUGIN_ID, NAME, CREATION_DATE, MODIFIED_DATE) VALUES (?, ?, ?, ?)
      ]]></sql-query>                  	     

	<sql-query
		name="INSERT_PLUGIN_WITH_DATA"
		comment="플러그인 데이터 추가"><![CDATA[
		INSERT INTO V2_PLUGIN_DATA (PLUGIN_ID, NAME, CREATION_DATE, MODIFIED_DATE, data) 
		VALUES (?, ?, ?, ?, ?)
      ]]></sql-query>   
                        	     
	<sql-query
		name="DELETE_PLUGIN_BY_ID"
		comment="프러그인 아이디로 플러그인 데이터 삭제"><![CDATA[
		DELETE FROM V2_PLUGIN_DATA WHERE PLUGIN_ID = ?
      ]]></sql-query> 

	<sql-query
		name="DELETE_PLUGIN_BY_NAME"
		comment="플러그인 이름에 해당하는 플러그인 데이터 삭제"><![CDATA[
		DELETE FROM V2_PLUGIN_DATA WHERE NAME = ?
      ]]></sql-query> 

	<sql-query
		name="SELECT_PLUGIN_BY_NAME"
		comment="플러그인 이름으로 플러그인 데이터 조회"><![CDATA[
		SELECT PLUGIN_ID, NAME, CREATION_DATE, MODIFIED_DATE FROM V2_PLUGIN_DATA WHERE NAME = ?
      ]]></sql-query> 
      
	<sql-query
		name="SELECT_ALL_PLUGIN"
		comment="전체 플러그인 데이터 조회"><![CDATA[
		SELECT PLUGIN_ID, NAME, CREATION_DATE, MODIFIED_DATE FROM V2_PLUGIN_DATA
      ]]></sql-query>                  
      
	<sql-query
		name="UPDATE_PLUGIN_DATA"
		comment="플러드그인 데이터 업데이트"><![CDATA[
		UPDATE V2_PLUGIN_DATA SET DATA = ?, MODIFIED_DATE = SYSDATE WHERE PLUGIN_ID = ?
      ]]></sql-query>        
      
	<sql-query
		name="SELECT_PLUGIN_DATA"
		comment="전체 다국어 지원 프로퍼티 값"><![CDATA[
		SELECT DATA FROM V2_PLUGIN_DATA WHERE PLUGIN_ID = ?
      ]]></sql-query>    
            
	<sql-query
		name="EXIST_PLUGIN_DATA_TABLE"
		comment="전체 다국어 지원 프로퍼티 값"><![CDATA[
		SELECT 1 FROM V2_PLUGIN_DATA
      ]]></sql-query> 

	<sql-query
		name="SELECT_ALL_SEQUENCER" ><![CDATA[
		SELECT SEQUENCER_ID, NAME, VALUE FROM V2_SEQUENCER
      ]]></sql-query>  
      

	<sql-query
		name="SELECT_SEQUENCER_BY_ID" ><![CDATA[
		SELECT VALUE FROM V2_SEQUENCER WHERE SEQUENCER_ID = ?
      ]]></sql-query>       
    
	<sql-query
		name="UPDATE_SEQUENCER" ><![CDATA[
		UPDATE V2_SEQUENCER SET VALUE = ? WHERE SEQUENCER_ID = ? AND VALUE = ?
      ]]></sql-query>  

	<sql-query
		name="SELECT_SEQUENCER_MAX_ID" ><![CDATA[
		SELECT MAX ( SEQUENCER_ID ) + 1 FROM V2_SEQUENCER 
      ]]></sql-query> 
      
	<sql-query
		name="INSERT_SEQUENCER" ><![CDATA[
		INSERT INTO V2_SEQUENCER (VALUE, NAME, SEQUENCER_ID ) VALUES (?, ?, ?)
      ]]></sql-query> 
      
    <!-- COUNTRY -->  
	<sql-query
		name="SELECT_COUNTRY_BY_ID" ><![CDATA[
		SELECT COUNTRY_ID, NAME, A2, A3, NUM, DIAL, ENABLED FROM V2_I18N_COUNTRY 
		WHERE COUNTRY_ID = ?
      ]]></sql-query> 
      
	<sql-query
		name="SELECT_COUNTRY_BY_NAME" ><![CDATA[
		SELECT COUNTRY_ID, NAME, A2, A3, NUM, DIAL, ENABLED FROM V2_I18N_COUNTRY 
		WHERE NAME = ?
      ]]></sql-query>

	<sql-query
		name="SELECT_COUNTRY_BY_A2" ><![CDATA[
		SELECT COUNTRY_ID, NAME, A2, A3, NUM, DIAL, ENABLED FROM V2_I18N_COUNTRY 
		WHERE A2 = ?
      ]]></sql-query>
      
	<sql-query
		name="SELECT_COUNTRY_BY_A3" ><![CDATA[
		SELECT COUNTRY_ID, NAME, A2, A3, NUM, DIAL, ENABLED FROM V2_I18N_COUNTRY 
		WHERE A3 = ?
      ]]></sql-query>

	<sql-query
		name="SELECT_ALL_COUNTRY" ><![CDATA[
		SELECT COUNTRY_ID, NAME, A2, A3, NUM, DIAL, ENABLED FROM V2_I18N_COUNTRY 
      ]]></sql-query>
            
	<sql-query
		name="SELECT_ALL_COUNTRY_WITH_ENABLED" ><![CDATA[
		SELECT COUNTRY_ID, NAME, A2, A3, NUM, DIAL, ENABLED FROM V2_I18N_COUNTRY 
		WHERE ENABLED = 1
      ]]></sql-query>
      
	<sql-query
		name="COUNT_ALL_COUNTRY" ><![CDATA[
		SELECT count(COUNTRY_ID) FROM V2_I18N_COUNTRY 
      ]]></sql-query>
            
	<sql-query
		name="COUNT_ALL_COUNTRY_WITH_ENABLED" ><![CDATA[
		SELECT count(COUNTRY_ID) FROM V2_I18N_COUNTRY 
		WHERE ENABLED = 1
      ]]></sql-query>

	<sql-query
		name="DELETE_COUNTRY_BY_ID" ><![CDATA[
		DELETE FROM V2_I18N_COUNTRY WHERE COUNTRY_ID = ?
      ]]></sql-query>
      
	<sql-query
		name="UPDATE_COUNTRY" ><![CDATA[
		UPDATE V2_I18N_COUNTRY SET NAME = ?, A2 = ?, A3 = ?, NUM = ?, DIAL = ?, ENABLED = ? WHERE COUNTRY_ID = ?
      ]]></sql-query>
      
	<sql-query
		name="INSERT_COUNTRY" ><![CDATA[
		INSERT INTO V2_I18N_COUNTRY (COUNTRY_ID, NAME, A2, A3, NUM, DIAL, ENABLED ) 
		VALUES (?, ?, ?, ?, ?, ?, ?)
      ]]></sql-query>      
                
    <!-- i18n Text  -->            
   	<sql-query name="INSERT_I18N_TEXTS" ><![CDATA[
		INSERT INTO V2_I18N_TEXT (TEXT_ID, LOCALE_CODE, TEXT_KEY, TEXT, CREATION_DATE, MODIFIED_DATE ) 
		VALUES (?, ?, ?, ?, ?, ?, ?, ?)
    ]]></sql-query>  
      
   	<sql-query name="UPDATE_I18N_TEXTS" ><![CDATA[
		UPDATE V2_I18N_TEXT SET TEXT = ? , MODIFIED_DATE = ? 
		WHERE TEXT_ID = ?
    ]]></sql-query> 
    
   	<sql-query name="DELETE_I18N_TEXTS" ><![CDATA[
		DELETE FROM V2_I18N_TEXT WHERE TEXT_ID = ?
    ]]></sql-query> 
              
   	<sql-query name="SELECT_I18N_TEXT_BY_ID" ><![CDATA[
		SELECT TEXT_ID, LOCALE_CODE, TEXT_KEY, TEXT, CREATION_DATE, MODIFIED_DATE 
		FROM V2_I18N_TEXT WHERE TEXT_ID = ?
    ]]></sql-query>   
        
   	<sql-query name="SELECT_ALL_I18N_TEXT" ><![CDATA[
		SELECT TEXT_ID, LOCALE_CODE, TEXT_KEY, TEXT, CREATION_DATE, MODIFIED_DATE 
		FROM V2_I18N_TEXT
    ]]></sql-query> 
    
   	<sql-query name="SELECT_I18N_TEXT_BY_LOCALE" ><![CDATA[
		SELECT TEXT_ID, LOCALE_CODE, TEXT_KEY, text, CREATION_DATE, MODIFIED_DATE 
		FROM V2_I18N_TEXT WHERE LOCALE_CODE = ?
    ]]></sql-query>  
          
   	<sql-query name="COUNT_ALL_LOCALE" ><![CDATA[
		SELECT count( LOCALE_ID )
		FROM V2_I18N_LOCALE
    ]]></sql-query> 
   	<sql-query name="SELECT_ALL_LOCALE" ><![CDATA[
		SELECT LOCALE_ID ,LANGUAGE, COUNTRY, VARIANT, ENCODING ,CREATION_DATE, MODIFIED_DATE 
		FROM V2_I18N_LOCALE
    ]]></sql-query> 
   	<sql-query name="SELECT_LOCALE_BY_ID" ><![CDATA[
		SELECT LOCALE_ID ,LANGUAGE, COUNTRY, VARIANT, ENCODING ,CREATION_DATE, MODIFIED_DATE
		FROM V2_I18N_LOCALE WHERE LOCALE_ID = ?
    ]]></sql-query>
   	<sql-query name="SELECT_LOCALE_BY_CODE" ><![CDATA[
		SELECT LOCALE_ID ,LANGUAGE, COUNTRY, VARIANT, ENCODING ,CREATION_DATE, MODIFIED_DATE
		FROM V2_I18N_LOCALE WHERE LANGUAGE = ? AND COUNTRY = ?
    ]]></sql-query>
   	<sql-query name="INSERT_LOCALE" ><![CDATA[
		INSERT INTO V2_I18N_LOCALE ( LOCALE_ID ,LANGUAGE, COUNTRY, VARIANT, CREATION_DATE, MODIFIED_DATE ) 
		VALUES (?,?,?,?,?,?)
    ]]></sql-query>   
   	<sql-query name="DELETE_LOCALE_BY_ID" ><![CDATA[
		DELETE FROM V2_I18N_LOCALE WHERE LOCALE_ID = ?
    ]]></sql-query>      
   	<sql-query name="UPDATE_LOCALE" ><![CDATA[
		UPDATE V2_I18N_LOCALE SET ENCODING = ?, MODIFIED_DATE = ? 
		WHERE LOCALE_ID = ? MODIFIED_DATE
    ]]></sql-query>         
                                                                                          
     <sql-query name="CREATE_TABLE" comment="테이블  생성 스크립트" ><![CDATA[ 
		
		<!-- COMMONS -->        
		
		CREATE TABLE V2_LOCALIZED_PROPERTY (
		  LOCALE_CODE            VARCHAR2(100)   NOT NULL,
		  PROPERTY_NAME          VARCHAR2(100)   NOT NULL,
		  PROPERTY_VALUE         VARCHAR2(1024)  NOT NULL,
		  CONSTRAINT V2_LOCALIZED_PROPERTY_PK PRIMARY KEY (LOCALE_CODE, PROPERTY_NAME)
		);
		
		CREATE TABLE V2_PROPERTY (
		  PROPERTY_NAME          VARCHAR2(100)   NOT NULL,
		  PROPERTY_VALUE         VARCHAR2(1024)  NOT NULL,
		  CONSTRAINT V2_PROPERTY_PK PRIMARY KEY (PROPERTY_NAME)
		); 		
			
		CREATE TABLE V2_SEQUENCER (
		    SEQUENCER_ID           INTEGER NOT NULL,
		    NAME                   VARCHAR2(200) NOT NULL,
		    VALUE                  INTEGER NOT NULL,
		    CONSTRAINT V2_SEQUENCER_PK PRIMARY KEY (SEQUENCER_ID)
		); 				     
		CREATE UNIQUE INDEX V2_SEQUENCER_NAME_IDX ON V2_SEQUENCER (NAME);		
                
        <!-- USER AND GROUP -->
        
        CREATE TABLE V2_USERS (
		  USER_ID                INTEGER NOT NULL,
		  USERNAME               VARCHAR2(100)   NOT NULL,
		  PASSWORD_HASH          VARCHAR2(64)   NOT NULL,
		  NAME                   VARCHAR2(100)   NOT NULL,		  
		  NAME_VISIBLE           NUMBER(1, 0) DEFAULT 1 ,
		  FIRST_NAME             VARCHAR2(100)   NOT NULL,		  
		  LAST_NAME              VARCHAR2(100)   NOT NULL,		
		  EMAIL                  VARCHAR2(100)   NOT NULL,
		  EMAIL_VISIBLE          NUMBER(1, 0) DEFAULT 1,
		  LAST_LOGINED_IN        DATE DEFAULT SYSDATE NOT NULL,
		  LAST_PROFILE_UPDATE    DATE DEFAULT SYSDATE NOT NULL,
		  USER_ENABLED           NUMBER(1, 0) DEFAULT 1, 
		  VISIBLE                NUMBER(1, 0) DEFAULT 1, 
		  IS_EXTERNAL            NUMBER(1, 0) DEFAULT 0, 
		  FEDERATED              NUMBER(1, 0) DEFAULT 0,
		  CREATION_DATE          DATE DEFAULT SYSDATE NOT NULL,
		  MODIFIED_DATE          DATE DEFAULT SYSDATE NOT NULL,		    
		  CONSTRAINT V2_USERS_PK PRIMARY KEY (USER_ID)
		);		
		CREATE UNIQUE INDEX V2_USERS_USERNAME_IDX ON V2_USERS (USERNAME);
				        
        CREATE TABLE V2_USER_PROPERTY (
		  USER_ID                INTEGER NOT NULL,
		  PROPERTY_NAME          VARCHAR2(100)   NOT NULL,
		  PROPERTY_VALUE         VARCHAR2(1024)  NOT NULL,
		  CONSTRAINT V2_USER_PROPERTY_PK PRIMARY KEY (USER_ID, PROPERTY_NAME)
		);		
		
		<!-- G11N --> 	
		
		CREATE TABLE V2_I18N_LOCALE (
			 LOCALE_ID      INTEGER NOT NULL,
			 LANGUAGE      VARCHAR2(100),
			 COUNTRY       VARCHAR2(100),
			 VARIANT       VARCHAR2(100),
			 ENCODING      VARCHAR2(100),
		     CREATION_DATE  DATE DEFAULT SYSDATE NOT NULL,
		     MODIFIED_DATE  DATE DEFAULT SYSDATE NOT NULL,
		     CONSTRAINT V2_I18N_LOCALE_PK PRIMARY KEY (LOCALE_ID)
    	);
		
		
		INSERT INTO V2_I18N_LOCALE ( LOCALE_ID ,LANGUAGE, COUNTRY, VARIANT, ENCODING ) VALUES (1, 'ko', 'KR', NULL, 'UTF-8');
				
		CREATE TABLE V2_I18N_TEXT (
		     TEXT_ID                INTEGER NOT NULL,
		     LOCALE_CODE            VARCHAR2(100)   NOT NULL,
		     TEXT_KEY               VARCHAR2(200)   NOT NULL,		    
		     TEXT                   VARCHAR2(2000)  NOT NULL,	
			 CREATION_DATE          DATE DEFAULT SYSDATE NOT NULL ,
		     MODIFIED_DATE          DATE DEFAULT SYSDATE NOT NULL ,
		     CONSTRAINT V2_I18N_TEXT_PK PRIMARY KEY (TEXT_ID)
		);
		
		
		CREATE TABLE V2_ZIPCODE (
		    ZIPCODE_ID             INTEGER NOT NULL,
		    ZIPCODE                CHAR(7),
		    SIDO                   VARCHAR2(50), 
		    GUGUN                  VARCHAR2(100),  
		    DONG                   VARCHAR2(200),
		    BUNJI		           VARCHAR2(100),
		    CONSTRAINT V2_ZIPCODE_PK PRIMARY KEY (ZIPCODE_ID)		    
		);
				
	
		create table V2_I18N_COUNTRY (
		    COUNTRY_ID         INTEGER NOT NULL,
		    NAME               VARCHAR2(300) NULL,
		    A2                 VARCHAR2(300) NULL,
		    A3                 VARCHAR2(300) NULL,
		    NUM                VARCHAR2(300) NULL,
		    DIAL               VARCHAR2(300) NULL,     
		    ENABLED            NUMBER(1, 0) DEFAULT 1,
		    CONSTRAINT V2_I18N_COUNTRY_PK PRIMARY KEY (COUNTRY_ID)
		);
      			
		CREATE TABLE V2_I18N_REGION (
		    REGION_ID              INTEGER NOT NULL,
			COUNTRY_ID             INTEGER,
			REGION_CODE            VARCHAR2(300) NULL,
			NAME                   VARCHAR2(300) NULL,
			ENABLED                NUMBER(1, 0)  DEFAULT 1,
			CONSTRAINT V2_I18N_REGION_PK PRIMARY KEY (REGION_ID)
		);
		
		
		        
        
        <!-- PLUGIN -->         
        CREATE TABLE V2_PLUGIN_DATA (
            PLUGIN_ID             INTEGER NOT NULL,
            NAME                  VARCHAR2(200) NOT NULL,
            CREATION_DATE         DATE DEFAULT SYSDATE NOT NULL,
            MODIFIED_DATE         DATE DEFAULT SYSDATE NOT NULL,
            DATA                  BLOB,
            CONSTRAINT V2_PLUGIN_DATA_PK PRIMARY KEY (PLUGIN_ID)
        );     
        
        CREATE UNIQUE INDEX V2_PLUGIN_DATA_NAME_IDX ON V2_PLUGIN_DATA (NAME);
		

				

	
		     
    ]]></sql-query> 
    
      	     
</sql-queryset>